<!-- FIU   CAP 5738:Data Visualization   Assignment 2
by Yezehao Huai (PID:5965823) and Li Li(PID:6052180)-->

<html>
	<head>
		<title>City Info</title>
		<script src="https://d3js.org/d3.v5.js"></script>
		<style>
			table{
				
				border-collapse: collapse;
			}
			thead{
				font-weight: bold;
			}
			td{
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<h1> City Info</h1>
		<table>
			<thead>
				<td>City</td>
				<td>State</td>
				<td>Population</td>
			</thead>
			<tbody>
				
			</tbody>
		</table>
		<script>
				
		d3.text('miles.dat').then(function(textData) {
			// parse data
			var dsv = d3.dsv(",", "[", "]", "text/plain");			
			var data = dsv.ParseRows('miles.dat', function(d,i){
				return {
					City: d[0],
					State: d[1],
					Population: d[4]

				};
			});
			console.log(data);

			//populate table with d3 selection and data enter. 
			var tr = d3.select('table')
	  		.selectAll('tr')
	 		.data(data)
			.enter()
	  		.append('tr');
	  
	 		tr.selectAll('td')
			.data(function(d){ return d;})
			.enter()
			.append('td')
			.text(function(d){return d;})
			;
		});
		</script>
	</body>
</html>
